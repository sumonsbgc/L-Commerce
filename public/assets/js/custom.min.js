; (function ($) {
    // Content Editor 
    $(document).ready(function () {
        var post_editor = new FroalaEditor('#post_content', {
            heightMin: 300,
            paragraphFormatSelection: true,
            linkText: true,
        });

        var excerpt_editor = new FroalaEditor('#post_excerpt', {});
    })

    $('#sl').click(function () {
        $('#tl').loadingBtn();
        $('#tb').loadingBtn({ text: "Signing In" });
    });

    $('#el').click(function () {
        $('#tl').loadingBtnComplete();
        $('#tb').loadingBtnComplete({ html: "Sign In" });
    });

    $('#demoDate').datepicker({
        format: "dd/mm/yyyy",
        autoclose: true,
        todayHighlight: true
    });
    $("#selectCategory").select2();


    (function () { 

        function sm_createElement(tag, attr = {} ) {
            var tag = document.createElement(tag)                                
                if( typeof attr === "object" && attr !== null){
                    for (prop in attr) {
                        tag.setAttribute(prop, attr[prop])
                    }
                }
            return tag;
        }

        $("#create_meta_fields").on('click', function (e) {
            
            var fragment = document.createDocumentFragment();            
            var customFiledArea = document.getElementById('meta_container');

            var row = sm_createElement('div', { class: 'row', id: 'post_meta_section' })            
            var col1 = sm_createElement('div', { class: 'form-group col-sm-5' })
            row.appendChild(col1);
            var col2 = sm_createElement('div', { class: 'form-group col-sm-5'})
            row.appendChild(col2);
            var col3 = sm_createElement('div', { class: 'form-group col-sm-2'})
            row.appendChild(col3);

            var input = sm_createElement('input', {class: 'form-control', type: 'text', name: 'meta_key[]', value: '' })
            col1.appendChild(input)
            var text_area = sm_createElement('textarea', {class: 'form-control', name: 'meta_value[]', rows: 1})
            col2.appendChild(text_area);            
            var removeButton = sm_createElement('button', { class: 'btn btn-primary remove_meta_fields', type: 'button'})
            col3.appendChild(removeButton);
            var trashIcon = sm_createElement('i', { class: 'fa fa-fw fa-lg fa-trash mr-0'})
            removeButton.appendChild(trashIcon);

            fragment.appendChild(row);
            customFiledArea.appendChild(fragment);

        });

        $('#meta_container').on('click', '.remove_meta_fields', function () {
            return false;
        });

        // $(".remove_meta_fields").on('click', function (e) {
        //     alert('Remove Meta Fields');
        // });
    }())

}(jQuery));